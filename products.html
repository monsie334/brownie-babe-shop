<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Brownie Babe | Products</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:#f6f2ea;
}

/* HEADER */
header{
    background:#000;
    color:#fff;
    padding:15px;
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.right-links{
    display:flex;
    gap:15px;
    align-items:center;
}

header a{
    color:#fff;
    text-decoration:none;
    font-weight:bold;
}

.cart-icon{
    cursor:pointer;
    position:relative;
}

.cart-icon span{
    background:#25D366;
    color:#fff;
    border-radius:50%;
    padding:2px 7px;
    font-size:12px;
    position:absolute;
    top:-8px;
    right:-10px;
}

/* TITLE */
h1{
    text-align:center;
    color:#4b2e23;
}

/* PRODUCTS */
.products{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
    gap:20px;
    padding:20px;
}

.card{
    background:#fff;
    border-radius:20px;
    padding:15px;
    text-align:center;
    box-shadow:0 4px 10px rgba(0,0,0,0.1);
}

.card img{
    width:100%;
    border-radius:15px;
}

button{
    background:#4b2e23;
    color:#fff;
    border:none;
    padding:10px 15px;
    border-radius:20px;
    cursor:pointer;
    margin-top:10px;
    width:100%;
}

/* MODAL */
.modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.6);
    display:none;
    justify-content:center;
    align-items:center;
    z-index:1000;
}

.modal-box{
    background:#fff;
    width:90%;
    max-width:400px;
    border-radius:20px;
    padding:20px;
}

.modal-box img{
    width:100%;
    border-radius:15px;
}

.close{
    float:right;
    cursor:pointer;
}

/* TOPPINGS */
.topping{
    border:2px solid #ddd;
    padding:6px;
    border-radius:10px;
    margin:6px 0;
    cursor:pointer;
}

.topping.active{
    border-color:#25D366;
    background:#eafff1;
}

/* CART */
#cart{
    position:fixed;
    top:0;
    right:-100%;
    width:85%;
    max-width:350px;
    height:100%;
    background:#fff7ee;
    box-shadow:-5px 0 15px rgba(0,0,0,0.3);
    padding:20px;
    transition:.3s;
    z-index:1100;
    border-radius:20px 0 0 20px;
}

#cart.open{right:0;}

.cart-item{
    background:#fff;
    padding:10px;
    border-radius:15px;
    margin:10px 0;
    font-size:14px;
}

.remove{
    float:right;
    cursor:pointer;
    color:red;
}

.total{
    font-weight:bold;
    color:#25D366;
    font-size:18px;
}

.order-btn{
    background:#25D366;
    width:100%;
    margin-top:10px;
}
</style>
</head>

<body>

<header>
    <div>Hey babe, are you ready to shop?</div>
    <div class="right-links">
        <a href="index.html">Home</a>
        <div class="cart-icon" onclick="toggleCart()">üõí <span id="cartCount">0</span></div>
    </div>
</header>

<h1>Our Brownies</h1>

<div class="products">
<script>
const products=[
{n:'Valentine Brownie',p:280,i:'valentine-special1.jpeg',m:true,t:false},
{n:'Small Valentine Brownie',p:120,i:'valentine-special2.jpeg',m:true,t:false},
{n:'All-in-One Brownie',p:360,i:'all-in-one.jpeg'},
{n:'Customised Brownie',p:290,i:'customised.jpeg',m:true,t:true},
{n:'Small Customised Brownie',p:120,i:'small-customised.jpeg',m:true,t:true},
{n:'Overload Brownie',p:320,i:'overload.jpeg',m:true,t:true},
{n:'Specialty Brownie',p:0,i:'specialty-brownie.jpeg'},
{n:'Fudge',p:20,i:'fudge.jpeg'}
];

document.write(products.map((x,i)=>`
<div class="card">
<img src="${x.i}">
<h3>${x.n}</h3>
<p>${x.p?`R${x.p}`:'Request price'}</p>
<button onclick="openModal(${i})">Add to Cart</button>
</div>`).join(''));
</script>
</div>

<!-- MODAL -->
<div class="modal" id="modal">
<div class="modal-box">
<span class="close" onclick="closeModal()">‚ùå</span>
<h3 id="mName"></h3>
<img id="mImg">
<div id="msgBox"></div>
<div id="topBox"></div>
<button onclick="confirmAdd()">Add to Cart</button>
</div>
</div>

<!-- CART -->
<div id="cart">
<h3>Your Cart <span onclick="toggleCart()">‚ùå</span></h3>
<div id="cartItems"></div>
<div class="total" id="total">Total: R0</div>
<button class="order-btn" onclick="order()">Order Now</button>
</div>

<script>
let cart=[],current;

function toggleCart(){document.getElementById('cart').classList.toggle('open');}

function openModal(i){
current={...products[i],tops:[],msg:''};
document.getElementById('mName').innerText=current.n;
document.getElementById('mImg').src=current.i;
document.getElementById('msgBox').innerHTML=current.m?`<textarea placeholder="Write your message" oninput="current.msg=this.value"></textarea>`:'';
document.getElementById('topBox').innerHTML=current.t?['Oreos','Bar One','KitKat','Smarties'].map(t=>`<div class="topping" onclick="toggleTop(this,'${t}')">${t} (+R20)</div>`).join(''):'';
document.getElementById('modal').style.display='flex';
}

function toggleTop(el,t){
if(el.classList.contains('active')){
el.classList.remove('active');
current.tops=current.tops.filter(x=>x!=t);
}else if(current.tops.length<2){
el.classList.add('active');
current.tops.push(t);
}
}

function closeModal(){document.getElementById('modal').style.display='none';}

function confirmAdd(){
current.total=(current.p||0)+(current.tops.length*20);
cart.push(current);
closeModal();
renderCart();
}

function renderCart(){
let t=0,box=document.getElementById('cartItems');
box.innerHTML='';
cart.forEach((i,n)=>{
t+=i.total;
box.innerHTML+=`
<div class="cart-item">
<span class="remove" onclick="cart.splice(${n},1);renderCart()">‚úñ</span>
<b>${i.n}</b><br>
R${i.total}<br>
${i.msg?`Msg: ${i.msg}<br>`:''}
${i.tops.length?`Toppings: ${i.tops.join(', ')}`:''}
</div>`;
});
document.getElementById('total').innerText='Total: R'+t;
document.getElementById('cartCount').innerText=cart.length;
}

function order(){
let txt='Brownie Babe Order:%0A';
cart.forEach(i=>{
txt+=`${i.n} - R${i.total}%0A`;
if(i.msg) txt+=`Message: ${i.msg}%0A`;
if(i.tops.length) txt+=`Toppings: ${i.tops.join(', ')}%0A`;
txt+='%0A';
});
window.open(`https://wa.me/27689795490?text=${txt}`);
}
</script>

</body>
</html>
