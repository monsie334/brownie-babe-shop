<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Brownie Babe | Products</title>

<style>
body{
    margin:0;
    font-family:Arial, sans-serif;
    background:#f6f2ea;
}

/* HEADER */
header{
    background:#000;
    color:#fff;
    padding:15px;
    display:flex;
    justify-content:space-between;
    align-items:center;
}

header a{
    color:#fff;
    text-decoration:none;
    font-size:22px;
}

.cart-icon{
    cursor:pointer;
    position:relative;
    font-size:22px;
}

.cart-icon span{
    background:#25D366;
    color:#fff;
    border-radius:50%;
    padding:2px 7px;
    font-size:12px;
    position:absolute;
    top:-8px;
    right:-10px;
}

/* TITLE */
h1{
    text-align:center;
    color:#4b2e23;
}

/* PRODUCTS */
.products{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(160px,1fr));
    gap:20px;
    padding:20px;
}

.card{
    background:#fff;
    border-radius:20px;
    padding:15px;
    text-align:center;
    box-shadow:0 4px 10px rgba(0,0,0,0.1);
}

.card img{
    width:100%;
    border-radius:15px;
}

button{
    background:#4b2e23;
    color:#fff;
    border:none;
    padding:10px 15px;
    border-radius:20px;
    cursor:pointer;
    margin-top:10px;
}

/* TOPPINGS */
.toppings{
    margin-top:10px;
    text-align:left;
    font-size:14px;
}

.topping{
    border:2px solid #ddd;
    padding:6px;
    border-radius:10px;
    margin-bottom:6px;
    cursor:pointer;
}

.topping.active{
    border-color:#25D366;
    background:#eafff1;
}

/* CART */
#cart{
    position:fixed;
    top:0;
    right:-100%;
    width:85%;
    max-width:350px;
    height:100%;
    background:#fff7ee;
    box-shadow:-5px 0 15px rgba(0,0,0,0.3);
    padding:20px;
    transition:0.3s;
    z-index:999;
    border-radius:20px 0 0 20px;
}

#cart.open{
    right:0;
}

.cart-header{
    display:flex;
    justify-content:space-between;
    align-items:center;
}

.cart-item{
    background:#fff;
    padding:10px;
    border-radius:15px;
    margin:10px 0;
    font-size:14px;
}

.remove{
    float:right;
    cursor:pointer;
    color:red;
}

.total{
    font-weight:bold;
    color:#25D366;
    font-size:18px;
    margin-top:10px;
}

.order-btn{
    background:#25D366;
    width:100%;
    font-size:16px;
    margin-top:10px;
}
</style>
</head>

<body>

<header>
    <a href="index.html">Home</a>
    <div class="cart-icon" onclick="toggleCart()">üõí <span id="cartCount">0</span></div>
</header>

<h1>Our Brownies</h1>

<div class="products">

<!-- CUSTOMISED -->
<div class="card">
<img src="images/customised.jpeg">
<h3>Customised Brownie</h3>
<p>R290</p>

<div class="toppings" data-name="Customised Brownie">
<strong>Toppings (R20 each ‚Äì max 2)</strong>
<div class="topping">Oreos</div>
<div class="topping">Bar One</div>
<div class="topping">KitKat</div>
<div class="topping">Smarties</div>
</div>

<button onclick="addWithToppings(this,290)">Add to Cart</button>
</div>

<!-- SMALL CUSTOMISED -->
<div class="card">
<img src="images/small-customised.jpeg">
<h3>Small Customised Brownie</h3>
<p>R120</p>

<div class="toppings" data-name="Small Customised Brownie">
<strong>Toppings (R20 each ‚Äì max 2)</strong>
<div class="topping">Oreos</div>
<div class="topping">Bar One</div>
<div class="topping">KitKat</div>
</div>

<button onclick="addWithToppings(this,120)">Add to Cart</button>
</div>

<!-- OVERLOAD -->
<div class="card">
<img src="images/overload.jpeg">
<h3>Overload Brownie</h3>
<p>R320</p>

<div class="toppings" data-name="Overload Brownie">
<strong>Toppings (R20 each ‚Äì max 2)</strong>
<div class="topping">Oreos</div>
<div class="topping">Ferrero</div>
<div class="topping">Bar One</div>
</div>

<button onclick="addWithToppings(this,320)">Add to Cart</button>
</div>

</div>

<!-- CART -->
<div id="cart">
    <div class="cart-header">
        <h3>Your Cart</h3>
        <span onclick="toggleCart()">‚ùå</span>
    </div>
    <div id="cartItems"></div>
    <div class="total" id="cartTotal">Total: R0</div>
    <button class="order-btn" onclick="orderNow()">Order Now</button>
</div>

<script>
let cart=[];

/* CART */
function toggleCart(){
    document.getElementById('cart').classList.toggle('open');
}

/* TOPPING SELECTION */
document.querySelectorAll('.topping').forEach(t=>{
    t.onclick=()=>{
        let group=t.parentElement;
        let active=group.querySelectorAll('.active');
        if(t.classList.contains('active')){
            t.classList.remove('active');
        }else if(active.length<2){
            t.classList.add('active');
        }
    }
});

/* ADD WITH TOPPINGS */
function addWithToppings(btn,price){
    let box=btn.previousElementSibling;
    let name=box.dataset.name;
    let chosen=[...box.querySelectorAll('.active')].map(t=>t.innerText);
    let total=price+(chosen.length*20);

    cart.push({name,price:total,toppings:chosen});
    renderCart();

    box.querySelectorAll('.topping').forEach(t=>t.classList.remove('active'));
}

/* RENDER CART */
function renderCart(){
    let c=document.getElementById('cartItems');
    let total=0;
    c.innerHTML='';
    cart.forEach((i,n)=>{
        total+=i.price;
        c.innerHTML+=`
        <div class="cart-item">
        <span class="remove" onclick="cart.splice(${n},1);renderCart()">‚úñ</span>
        <strong>${i.name}</strong><br>
        R${i.price}<br>
        ${i.toppings.length?'Toppings: '+i.toppings.join(', '):''}
        </div>`;
    });
    document.getElementById('cartTotal').innerText='Total: R'+total;
    document.getElementById('cartCount').innerText=cart.length;
}

/* WHATSAPP */
function orderNow(){
    let text='Brownie Babe Order:%0A';
    cart.forEach(i=>{
        text+=`${i.name} - R${i.price}%0A`;
        if(i.toppings.length) text+=`Toppings: ${i.toppings.join(', ')}%0A`;
        text+='%0A';
    });
    window.open(`https://wa.me/27689795490?text=${text}`);
}
</script>

</body>
</html>
