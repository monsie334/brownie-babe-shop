<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Our Brownies â€“ Brownie Babe</title>

<link href="https://fonts.googleapis.com/css2?family=Archivo:wght@400;600&family=Archivo+Black&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    background:#EEEBE6;
    font-family:'Archivo',sans-serif;
    color:#4B3932;
}

/* HEADER */
.header{
    background:#000;
    color:#EEEBE6;
    padding:15px 8%;
    display:flex;
    justify-content:space-between;
    align-items:center;
}
.header h1{
    font-family:'Archivo Black',sans-serif;
    font-size:18px;
    margin:0;
}

/* CART ICON */
.cart-icon{
    cursor:pointer;
    font-weight:bold;
}
.cart-icon span{
    background:#25D366;
    color:#fff;
    border-radius:50%;
    padding:2px 6px;
    font-size:12px;
    margin-left:4px;
}

/* TITLE */
.page-title{
    text-align:center;
    font-family:'Archivo Black',sans-serif;
    font-size:30px;
    margin:25px 0 20px;
}

/* PRODUCTS */
.products{
    padding:0 8% 35px;
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
    gap:25px;
}

/* PRODUCT CARD */
.product{
    background:#F7F4EF;
    padding:12px;
    border-radius:10px;
    text-align:center;
    cursor:pointer;
}
.product img{
    width:100%;
    height:190px;
    object-fit:contain;
}
.product h3{
    font-family:'Archivo Black',sans-serif;
    font-size:15px;
    margin:8px 0 4px;
}
.product p{
    font-weight:600;
    font-size:14px;
}

/* MODAL */
.modal{
    display:none;
    position:fixed;
    inset:0;
    background:rgba(0,0,0,0.6);
    justify-content:center;
    align-items:center;
    z-index:1000;
}
.modal-box{
    background:#EEEBE6;
    width:90%;
    max-width:420px;
    padding:20px;
    border-radius:10px;
}
.close{
    float:right;
    cursor:pointer;
}

/* TOPPINGS */
.toppings{
    display:flex;
    flex-wrap:wrap;
    gap:8px;
}
.topping{
    border:1px solid #4B3932;
    padding:6px 10px;
    border-radius:6px;
    font-size:13px;
    cursor:pointer;
}
.topping.active{
    background:#4B3932;
    color:#fff;
}

/* CART PANEL */
#cart{
    position:fixed;
    top:0;
    right:-100%;
    width:350px;
    height:100%;
    background:#EEEBE6;
    padding:20px;
    transition:.3s;
    z-index:1200;
    overflow-y:auto;
}
#cart.open{right:0;}

.cart-header{
    display:flex;
    justify-content:space-between;
    font-family:'Archivo Black';
}
.cart-item{
    border-bottom:1px solid #4B3932;
    margin:10px 0;
    padding-bottom:8px;
    font-size:14px;
}
.remove-item{
    float:right;
    color:red;
    cursor:pointer;
}
.cart-total{
    margin-top:15px;
    font-weight:bold;
    font-size:16px;
    color:#25D366;
}
.order-btn{
    width:100%;
    margin-top:15px;
    padding:10px;
    background:#25D366;
    color:#fff;
    border:none;
    font-weight:bold;
    cursor:pointer;
}

/* MOBILE */
@media (max-width:768px){
    .products{
        grid-template-columns:repeat(2,1fr);
        padding:0 5% 30px;
        gap:18px;
    }
    .product img{height:150px;}
    #cart{width:100%;}
}
</style>
</head>

<body>

<div class="header">
    <h1>Hey babe, are you ready to shop?</h1>
    <div class="cart-icon" onclick="toggleCart()">
        ðŸ›’ <span id="cartCount">0</span>
    </div>
</div>

<h2 class="page-title">Our Brownies</h2>

<div class="products">

<div class="product" onclick="openModal('Valentine Brownie',280,'images/valentine-special1.jpeg',true,false)">
<img src="images/valentine-special1.jpeg"><h3>Valentine Brownie</h3><p>R280</p>
</div>

<div class="product" onclick="openModal('Small Valentine Brownie',120,'images/valentine-special2.jpeg',true,false)">
<img src="images/valentine-special2.jpeg"><h3>Small Valentine Brownie</h3><p>R120</p>
</div>

<div class="product" onclick="openModal('All-in-One Brownie',360,'images/all-in-one.jpeg',false,false)">
<img src="images/all-in-one.jpeg"><h3>All-in-One Brownie</h3><p>R360</p>
</div>

<div class="product" onclick="openModal('Customised Brownie',290,'images/customised.jpeg',true,true)">
<img src="images/customised.jpeg"><h3>Customised Brownie</h3><p>R290</p>
</div>

<div class="product" onclick="openModal('Small Customised Brownie',120,'images/small-customised.jpeg',true,true)">
<img src="images/small-customised.jpeg"><h3>Small Customised Brownie</h3><p>R120</p>
</div>

<div class="product" onclick="openModal('Overload Brownie',320,'images/overload.jpeg',true,true)">
<img src="images/overload.jpeg"><h3>Overload Brownie</h3><p>R320</p>
</div>

<div class="product" onclick="openModal('Specialty Brownie',0,'images/specialty-brownie.jpeg',false,false)">
<img src="images/specialty-brownie.jpeg"><h3>Specialty Brownie</h3><p>Request a price</p>
</div>

<div class="product" onclick="openModal('Fudge',20,'images/fudge.jpeg',false,false)">
<img src="images/fudge.jpeg"><h3>Fudge</h3><p>R20</p>
</div>

</div>

<!-- MODAL -->
<div class="modal" id="modal">
<div class="modal-box">
<span class="close" onclick="closeModal()">âœ–</span>
<h3 id="modalTitle"></h3>
<img id="modalImg" style="width:100%;height:170px;object-fit:contain">

<div id="messageBox">
<label>Message</label>
<textarea id="message" style="width:100%"></textarea>
</div>

<div id="toppingsBox">
<p><strong>Toppings (R20 each)</strong></p>
<div class="toppings" id="toppings"></div>
</div>

<button onclick="addToCart()" style="margin-top:15px;width:100%;padding:10px;background:#4B3932;color:#fff;border:none;">
Add to Cart
</button>
</div>
</div>

<!-- CART -->
<div id="cart">
<div class="cart-header">
<span>Your Cart</span>
<span onclick="toggleCart()" style="cursor:pointer">âœ–</span>
</div>
<div id="cartItems"></div>
<div class="cart-total" id="cartTotal"></div>
<button class="order-btn" onclick="orderNow()">Order Now</button>
</div>

<script>
let cart=[], current={};
const toppingList=['Chocolate','Tex','M&M','Bueno','Biscoff','Oreos'];

function openModal(name,price,img,msg,tops){
current={name,price,img,msg,tops,chosen:[]};
document.getElementById('modalTitle').innerText=name;
document.getElementById('modalImg').src=img;
document.getElementById('messageBox').style.display=msg?'block':'none';
document.getElementById('toppingsBox').style.display=tops?'block':'none';

let t=document.getElementById('toppings');
t.innerHTML='';
if(tops){
toppingList.forEach(x=>{
let d=document.createElement('div');
d.className='topping';
d.innerText=x;
d.onclick=()=>{d.classList.toggle('active');
current.chosen.includes(x)?current.chosen=current.chosen.filter(a=>a!==x):current.chosen.push(x);}
t.appendChild(d);
});
}
document.getElementById('modal').style.display='flex';
}

function closeModal(){document.getElementById('modal').style.display='none';}

function addToCart(){
let total=current.price+(current.chosen.length*20);
cart.push({...current,message:document.getElementById('message').value,total});
closeModal();renderCart();
}

function toggleCart(){
document.getElementById('cart').classList.toggle('open');
}

function renderCart(){
let box=document.getElementById('cartItems'),sum=0;
box.innerHTML='';
cart.forEach((i,n)=>{
sum+=i.total;
box.innerHTML+=`
<div class="cart-item">
<strong>${i.name}</strong>
<span class="remove-item" onclick="cart.splice(${n},1);renderCart()">âœ–</span><br>
R${i.total}<br>
${i.msg && i.message?'Message: '+i.message+'<br>':''}
${i.tops && i.chosen.length?'Toppings: '+i.chosen.join(', '):''}
</div>`;
});
document.getElementById('cartTotal').innerText='Total: R'+sum;
document.getElementById('cartCount').innerText=cart.length;
}

function orderNow(){
if(!cart.length)return alert('Your cart is empty');
let msg='Hello, I would like to order:\n\n';
let total=0;
cart.forEach((i,n)=>{
total+=i.total;
msg+=`${n+1}. ${i.name} â€“ R${i.total}\n`;
});
msg+=`\nTotal: R${total}`;
window.open('https://wa.me/27689795490?text='+encodeURIComponent(msg),'_blank');
}
</script>

</body>
</html>
